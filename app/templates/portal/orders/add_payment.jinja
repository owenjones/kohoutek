{% extends "portal/portal-frame.jinja" %}
{% block module %}
<div class="uk-section uk-section-default uk-section-small">
  <div class="uk-container uk-container-small">
    <div class="uk-flex uk-flex-stretch" uk-grid>
      {% include "portal/components/alerts.jinja" %}
      {% include "portal/orders/partials/order_summary.jinja" %}

      <div class="uk-width-1-2@m uk-text-center uk-text-left@m">
        <a href="{{ url_for('portal.addPostageToOrder', id=order.id) }}">
          <span uk-icon="arrow-left"></span> Choose Postage
        </a>
      </div>

      <div class="uk-width-1-2@m uk-text-center uk-text-right@m">
        {% if order.payment %}
        <a href="{{ url_for('portal.completePayment', id=order.id) }}">
          Complete Payment <span uk-icon="arrow-right"></span>
        </a>
        {% endif %}
      </div>

      <div class="uk-width-1-1">
        <div class="uk-card uk-card-default uk-card-body">
          <h3>Choose Payment Method</h3>
          <form method="POST" action="{{ url_for('portal.processPayment', id=order.id) }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
            <input type="hidden" name="id" value="{{ order.id }}" />

            <div class="uk-margin-medium-top uk-flex uk-flex-middle" uk-grid>
              <div class="uk-width-2-3@m">
                <h4>Online Payment</h4>
                <p>Pay online using a Debit/Credit Card, or with Apple Pay/Google Pay.</p>
                <p class="uk-text-meta">Online payments have a small processing fee (about 60p).</p>
              </div>
              <div class="uk-width-1-3@m uk-text-right@m">
                <button type="submit" name="method" value="online" class="uk-button uk-button-primary uk-button-large">Pay Online</button>
              </div>
            </div>
            <hr />
            <div class="uk-margin uk-flex uk-flex-middle" uk-grid>
              <div class="uk-width-2-3@m">
                <h4>Bank Transfer</h4>
                <p>Transfer money to the Kohoutek account (IBAN details available for international entries).</p>
              </div>
              <div class="uk-width-1-3@m uk-text-right@m">
                <button type="submit" name="method" value="bank" class="uk-button uk-button-primary uk-button-large">Bank Details</button>
              </div>
            </div>
            <hr />
            <div class="uk-margin uk-flex uk-flex-middle" uk-grid>
              <div class="uk-width-2-3@m">
                <h4>Cheque</h4>
                <p>Pay by cheque, if you really, really, must.</p>
              </div>
              <div class="uk-width-1-3@m uk-text-right@m">
                <button type="submit" name="method" value="cheque" class="uk-button uk-button-primary uk-button-large">Cheque Details</button>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
